{% load static %} <html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&display=swap" rel="stylesheet">
    <link href="{% static 'style.css' %}" rel="stylesheet">
    <title>Jose Valenzuela</title>
    <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-lg-12 col-xs-12" style="padding-top: 1em">
                <img class="img-fluid" style="width: 100%;" src="{% static 'img/portada.jpeg' %}" alt="portada">
            </div>
            <div class="col-md-12 col-lg-12 col-xs-12" style="padding-top: 1em">
                <!--Buscador -->
                <div id="buscador">
                    <div id="formBuscador">
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-xs-12">
                                <div class="jumbotron" style="background-color: rgba(240, 241, 247);">
                                    <h3 style="color: rgba(206, 160, 42);">Querido/a colega</h3>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-6 col-lg-6 col-xs-12" style="border-right: 1px solid rgba(153, 153, 153, 0.831);">
                                            <p>Nos gustaría que puedas ver nuestras propuestas.</p>
                                            <button type="button" class="btn" style="background-color: rgba(206, 160, 42); color: white;" data-toggle="modal" data-target="#exampleModalCenter"> Ver propuestas </button>
                                            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                                                                <ol class="carousel-indicators">
                                                                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                                                                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                                                                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                                                                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                                                                </ol>
                                                                <div class="carousel-inner">
                                                                    <div class="carousel-item active">
                                                                        <img class="d-block w-100" src="{% static 'img/main_proporsal.jpeg' %}" alt="First slide">
                                                                    </div>
                                                                    <div class="carousel-item">
                                                                        <img class="d-block w-100" src="{% static 'img/main_proporsal_1.jpeg' %}" alt="Second slide">
                                                                    </div>
                                                                    <div class="carousel-item">
                                                                        <img class="d-block w-100" src="{% static 'img/main_proporsal_2.jpeg' %}" alt="Third slide">
                                                                    </div>
                                                                    <div class="carousel-item">
                                                                        <img class="d-block w-100" src="{% static 'img/main_proporsal_3.jpeg' %}" alt="Third slide">
                                                                    </div>
                                                                </div>
                                                                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                                                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                    <span class="sr-only">Anterior</span>
                                                                </a>
                                                                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                                                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                    <span class="sr-only">Siguiente</span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <hr class=".d-none .d-sm-block .d-md-none">
                                        <div class="col-md-6 col-lg-6 col-xs-12" id="cuadroBusqueda">
                                            <p>Ponemos a tu disposición el padrón habilitado para las elecciones de representantes ante consejo de la magistratura</p>
                                            <span>Buscar por: </span>
                                            <input type="checkbox" checked data-toggle="toggle" id="cedulaToggle" data-on="Cédula" data-off="Matricula" data-onstyle="success" data-offstyle="info">
                                            <br>
                                            <br>
                                            <form>
                                                <div class="input-group md-form form-sm form-2 pl-0">
                                                    <input class="form-control my-0 py-1" type="text" style="border-color: rgba(206, 160, 42);" id="inputNumber" placeholder="Nro de cédula" aria-label="Search">
                                                    <div class="input-group-append">
                                                        <span style="border-color: rgba(206, 160, 42);" onclick="crearReporte()" class="input-group-text lighten-3"><em style="color: rgba(206, 160, 42);" class="fa fa-search"></em></span>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="col-md-6 col-lg-6 col-xs-12" id="cuadroResultado" style="display: none;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.addEventListener( "click", someListener );
        function someListener(event){
            var element = event.target;
            if(element.tagName == 'BUTTON' && element.id == "repetirBusqueda"){
                $('#cuadroResultado').hide();
                $('#cuadroBusqueda').show();
                document.getElementById("inputNumber").val();
            }
        }

        $(function () {
            $('#cedulaToggle').change(function () {
                if (document.getElementById("cedulaToggle").checked) {
                    document.getElementById("inputNumber").placeholder = 'Nro de cédula';
                } else {
                    document.getElementById("inputNumber").placeholder = 'Nro de matricula';
                }
            })
        })

        function crearReporte() {
            var query = ($('#inputNumber').val());
            var filtro = '';
            if (document.getElementById("cedulaToggle").checked) {
                filtro = 'cedula';
            } else {
                filtro = 'matricula';
            }

            if (query != "") {
                $.ajax({
                    type: 'GET',
                    url: '{% url "reporteVotante" %}',
                    data: {
                        'csrfmiddlewaretoken': '{{ csrf_token }}',
                        'dato': query,
                        'filtro': filtro
                    },
                    success: function (data) {
                        $('#cuadroResultado').show();
                        $('#cuadroBusqueda').hide();
                        $('#cuadroResultado').html(data);
                    },
                    error: function (data) {
                        console.log(data);
                    }
                });
            }


        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
</body>

</html>